\section{Tallteori}
\subsection*{Div og mod}
\begin{frame}{Divisjon og Modulær aritmetikk}
\begin{block}{Delelighet $a|b$ ($a$ deler $b$)}
\begin{itemize}
\item $a$ kan dele $b$ uten rest
\item $a|b$ er det samme som $\frac{b}{a}=c$ eller $b=a\cdot c$ med $c$ som heltall\\
Eksempel: $3|12$ eller $\frac{12}{3} = 4$ eller $12=3\cdot 4$
\end{itemize}
\end{block}
\pause
\begin{block}{Modulo (Klokkearitmetikk)}
\begin{itemize}
\item $a\, mod\, b$ gir ut resten av heltall divisjon av $\frac{a}{b}$ ($a\%b$ i programmeringsspråk)
\item $a\, mod\, b\, =\, r$ kalles \textit{remainder}\\
Eksempel: $17\, mod\, 5\, = 2$ fordi $17=3\cdot 5+2$ 
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]{Algoritme for divisjon /modulo}
\begin{itemize}[<+->]
\item $d=q\cdot a + r$ med
\item $q=\floor*{\frac{d}{a}}$ og $r=d\, mod\, a$
\item Eksempel: $q=\floor*{\frac{17}{5}} = \floor*{3,4}=3$
\item $17=3\cdot 5 + r$ $\iff$ $17=15+r$ $\iff$ $r=2$
\end{itemize}
\pause
\begin{minted}{python}
def rest(d, a):              # d = 17, a = 5
   q = floor(d/a)            # q = floor(17/5 = 3
   r = d-q*a                 # r = 17-3*5 = 2
   print(f"{d}={q}*{a}+{r}")   # 17 = 3*5+2
   # r=d\%a kan også brukes
   
\end{minted}
\end{frame}

\begin{frame}{Modulo regneregler}
\begin{block}{Kongruens $\equiv$}
\begin{itemize}
\item $a \equiv b\, (mod\, m)$: a og b kongruent i forhold til mod m
\item $a \equiv b\, (mod\, m)$ betyr $a\, mod\, m=b\, mod\, m$
\item Eksempel: $8\, \equiv 3\, (mod\, 5)$ betyr $8\, mod\, 5=3=3\, mod\, 5$ 
\end{itemize}
\end{block}
\pause
\begin{itemize}[<+->]
\item Addisjon: $(a+b)\, mod\, m = (a\,mod\, \,m + b\, mod\, m)\, mod\, m$
\item $(8+21)\, mod\, 6 = (8\,mod\, \,6 + 21\, mod\, 6)\, mod\, 6$
\item Multiplikasjon: $(a\cdot b)\, mod\, m = (a\,mod\, \,m \cdot b\, mod\, m)\, mod\, m$
\item $(8\cdot21)\, mod\, 6 = (8\,mod\, \,6 \cdot 21\, mod\, 6)\, mod\, 6$
\end{itemize}
\end{frame}

\begin{frame}{}
\begin{exampleblock}{Eksempel}
\begin{itemize}
\item $x \equiv 3\,(mod\, 5)$
\item $y \equiv 4\,(mod\, 5)$
\item Finn løsningen: $(57\cdot x^3)\, mod\,5$
\end{itemize}
\end{exampleblock}
\pause
\medskip

$x \equiv 3\,(mod\, 5)$ $\rightarrow x=3$\\
$(57\cdot x^3)\, mod\,5=((57\, mod\, 5)\cdot (x\, mod\, 5)\cdot (x\, mod\, 5)\cdot (x\, mod\, 5))\, mod\, 5$\\
$=((57\, mod\, 5)\cdot (3\, mod\, 5)\cdot (3\, mod\, 5)\cdot (3\, mod\, 5))\, mod\, 5$\\
$=(2\cdot 3\cdot 3\cdot 3)\, mod\, 5=54\, mod\, 5=4$
\end{frame}

\begin{frame}{}
\begin{exampleblock}{Eksempel}
\begin{itemize}
\item $x \equiv 3\,(mod\, 5)$
\item $y \equiv 4\,(mod\, 5)$
\item Finn løsningen: $(3\cdot x+2\cdot y^2)\, mod\,5$
\end{itemize}
\end{exampleblock}
\pause

\medskip

$x \equiv 3\,(mod\, 5)$ $\rightarrow x=3$\\
$y \equiv 4\,(mod\, 5)$ $\rightarrow y=4$\\
$(3\cdot x)\, mod\, 5 = ((3\, mod\, 5)\cdot (x\, mod\, 5))\, mod\, 5=((3\, mod\, 5)\cdot (3\, mod\, 5))\, mod\, 5=9\, mod\, 5=4$\\
$(2\cdot y^2)\, mod\, 5 = ((2\, mod\, 5)\cdot (y\, mod\, 5)\cdot (y\, mod\, 5))\, mod\, 5 = ((2\, mod\, 5)\cdot (4\, mod\, 5)\cdot (4\, mod\, 5))\, mod\, 5=(2\cdot 4\cdot 4)\, mod\, 5=32\, mod\, 5=2$\\
$(3\cdot x+2\cdot y^2)\, mod\,5=((3\cdot x)\, mod\, 5+ (2\cdot y^2)\, mod\, 5)\, mod\, 5=(4+2)\, mod\, 5=6\, mod\, 5=1$
\end{frame}

\subsection*{Tallsystem}
\begin{frame}
\begin{block}{Tallsystem}
En representasjon av tall med forskjellige tegner med en base
\end{block}
\pause

\medskip

\begin{table}[]
\centering
\label{tab:tallsystemer}
\begin{tabular}{l|l|l|l|l}
Navn & Tall & 5 & 11 & 34 \\ \hline
Desimal (b=10) & 0-9 & 5& 11 & 34 \\
Binær (b=2) & 0-1 & 101 & 1011 & 100010 \\
Octal (b=8) & 0-7 & 5&  13 & 42\\
Hexadesimal (b=16) & 0-9,a-f& 5& B& 22\\
base=13 & 0-9,a-c & 5& B& 28
\end{tabular}
\caption{Eksempler på forskjellige tallsystemer}
\end{table}
\end{frame}

\subsection*{Konvertering av tallsystem}
\begin{frame}[fragile]{Desimal til base b}
\begin{columns}
    \begin{column}{0.68\textwidth}
\begin{minted}[fontsize=\footnotesize]{python}
def dec_to_base(n, b):
   output = ""
   while n != 0:
      next_digit = n%b
      n = n//b
      output = str(next_digit) + output
      print(f"n: {n}, bin: {next_digit}")
   return output

print(dec_to_base(22, 2))
\end{minted}
 	\end{column}
 	\pause
    \begin{column}{0.28\textwidth}
\begin{table}
\begin{tabular}{r|c|r}
n & nextDigit & output \\ \hline
22 & & 0 \\
11 & 0 & 0\\
5 & 1 & 10\\
2 & 1 & 110\\
1 & 0 & 0110\\
0 & 1 & 10110
\end{tabular}
\caption{Eksempel for $dec\_to\_base(22, 2)$}
\end{table}
 	\end{column}
 	\end{columns}
\end{frame}

\begin{frame}[fragile]{Base b til desimal}
\begin{columns}
    \begin{column}{0.68\textwidth}
\begin{minted}[fontsize=\footnotesize]{python}
def base_to_dec(n, b):
   sum = 0; idx = 0
   while n != 0:
      to_add = (b**idx * (n%b))
      sum += to_add
      n = n // 10
      idx += 1
      print(f"Add: {to_add}, n: {n}, sum: {sum}")
   return sum

print(base_to_dec(10110, 2))
\end{minted}
 	\end{column}
 	\pause
    \begin{column}{0.28\textwidth}
\begin{table}
\begin{tabular}{r|r|r}
toAdd & n & sum \\ \hline
 & 10110 & 0\\
0 & 1011 & 0\\
2 & 101 & 2\\
4 & 10 & 6\\
0 & 1 & 6\\
16 & 0 & 22
\end{tabular}
\caption{Eksempel for $base\_to\_dec(10110, 2)$}
\end{table}
 	\end{column}
 	\end{columns}
\end{frame}

\subsection*{Primtall, Greatest common divisor, Least common multiple}
\begin{frame}
\begin{block}{Primtall}
Et tall som bare kan deles av seg selv og 1\\
Eksempler: 2,3,5,7,11,13,...
\end{block}
\pause
\begin{block}{Greatest common divisor (største felles faktor)}
$gcd(a,b) := $det største tallet som deler både a og b\\
Eksempel: $gcd(4,6)=2$\\
Co-prime: a og b er co-prime dersom $gcd(a,b)=1$
\end{block}
\pause
\begin{block}{Least common multiple}
$lcm(a,b) := $ det minste tallet som kan deles av både a og b\\
Eksempel: $lcm(4,6)=12$\\
hvis $gcd(a,b) = 1$ $\rightarrow lcm(a,b) = a\cdot b$
\end{block}
\end{frame}

\subsection*{Euklids algoritme}
\begin{frame}[fragile]{Euklids algoritme}
\begin{columns}
    \begin{column}{0.58\textwidth}
\begin{minted}{python}
def gcd(a, b):
    while b > 0:
        q = a//b        # quotient
        r = a-q*b       # resten
        a = b
        b = r
    return a
\end{minted}
 	\end{column}
 	\pause
    \begin{column}{0.38\textwidth}
\begin{table}
\begin{tabular}{l|l|l|l|l}
a & b & q & r \\ \hline
28 & 12 & 2 & 4\\
12 & 4 & 3 & 0\\
4 & 0 &  & 
\end{tabular}
\caption{Eksempel for $gcd(28,12)$}
\end{table}
 	\end{column}
\end{columns}


\end{frame}

\begin{frame}[fragile]{}
\begin{block}{Extended Euklids algoritme}
Regner ut to parameter $s$ og $t$ slik at $gcd(a,b)$ kan skrives som linærkombinasjon\\
$gcd(a,b)=s\cdot a+t\cdot b$\\
$gcd(12,28)=4=-2\cdot 12 + 1\cdot 28$\medskip

Kan brukes for å finne multiplikativ inverse\\
Multiplikativ inverse finnes dersom $gcd(a,b)=1$
\end{block}
\pause

\begin{block}{Finne multiplicative inverse for $a$ med $mod\, m$}
\begin{itemize}
\item Funker bare dersom $gcd(a,m)=1$\\
\item Regn ut linærkombinasjon $gcd(a,b)=s\cdot a+t\cdot b$ med gcd
\item $a\cdot x \equiv 1 (mod\, m)$ er multiplicative inverse
\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]{Extended Euklids algoritme}
\begin{columns}
    \begin{column}{0.58\textwidth}
\begin{minted}{python}
def gcdExtended(a, b):
    if a == 0: 		# basis
    	return b, 0, 1
   
    # rekursjon
    gcd, x1, y1 = gcdExtended(b%a, a)
    x = y1 - (b//a) * x1
    y = x1
    
    return gcd, x, y
\end{minted}
 	\end{column}
 	\pause
    \begin{column}{0.38\textwidth}
\begin{table}
\begin{tabular}{l|l||l|l|l|l|l}
\multicolumn{2}{c||}{Call} & \multicolumn{5}{c}{Rekursjon}\\ \hline
a&b&gcd&x1&x2&x&y\\ \hline
12&28&4&1&0&-2&1\\
4&12&4&0&1&1&0\\
0&4&4&0&1&&
\end{tabular}
\caption{Eksempel for $gcd(12,18)$}
\end{table}
 	\end{column}
\end{columns}
\end{frame}

\begin{frame}{Eksempel Multiplicate Inverse}
\begin{itemize}[<+->]
\item Hva er multiplicative inverse av $5\, mod\, 13$?
\item $gcd(a,m) = gcd(5,13)=1$ $\rightarrow$ har multiplicative inverse
\item Linærkombinasjon fra gcd: $-5\cdot 5+13\cdot 2=1$
\item $a = -5$
\item Hvilket tall mellom 0 og 12 har samme kongruensklasse $mod\, 13?$ 
\item $13-5=8$ er multiplicative inverse til 5 for $mod\, 13$
\end{itemize}
\end{frame}

\subsection*{Spørretid}
\begin{frame}{Spørsmål?}
    \begin{figure}
        \centering
        \includegraphics[height = 4.9cm]{images/guillaume1.jpg}
        \caption{Guillaume på Sandviksfjellet}
        \label{fig:guillaume1}
    \end{figure}
\end{frame}

% ===========================

\section{Kryptografi}
\subsection*{Begrep}
\begin{frame}{Symmetrisk og asymmetrisk kryptografi}
\begin{block}{Symmetrisk kryptografi}
\begin{itemize}
\item Det finnes bare \textit{én} nøkkel, som begge personer bruker
\item Brukes for både kryptering og dekryptering
\item Eksempel: Caesar – $f(c) = (c+key)\, mod\, 26$
\end{itemize}
\end{block}
\pause
\begin{block}{Asymmetrisk kryptografi}
\begin{itemize}
\item Hver person har \textit{to} nøkler: Privat og offentlig
\item Kryptering med offentlig nøkkel av den andre personen
\item Dekryptering med privat nøkkel
\item Eksempel: RSA
\end{itemize}
\end{block}
\end{frame}

\subsection*{RSA}
\begin{frame}{RSA}
\begin{itemize}[<+->]
\item Asymmetrisk kryptering med to nøkler for hver deltaker
\item Kryptering
	\begin{itemize}
	\item Offentlig nøkkel for kryptering
	\item Privat nøkkel for dekryptering
	\end{itemize}
\item Digitale sertifikater/ signaturer
	\begin{itemize}
	\item Privat nøkkel for signering
	\item Offentlig nøkkel for verifisering
	\end{itemize}
\end{itemize}
\end{frame}


\begin{frame}{}
\begin{table}
\begin{tabular}{l|l}
Instruksjon & Eksempel\\ \hline
Velg to primtall $p$, $q$ & $p=7, q=13$\\
Regn ut $n=p\cdot q$ & $7\cdot 13=91$\\
Regn ut $\phi(n)=(p-1)\cdot(q-1)$&$\phi(n)=6\cdot12=72$\\
Velg $e$ med $2<e<\phi(n)$ og $gcd(e,\phi(n))=1$&23, $gcd(72,23)=1$\\
Finn $d=e^{-1} (mod\, \phi(n))$ med EEA & $d=23^{-1} (mod\, 72)$\\
\indent\hspace{3mm} Lineærkombinasjon & $-25\cdot 23+8\cdot 72=1$\\
& $a=-25$, $72-25=47$, $d=47$\\
Kryptering av blokk M & $M=42$\\
\indent\hspace{3mm} $C=M^e(mod\, n)$&$42^{23} (mod\, 91)=35$\\
Dekryptering av blokk C & $C=35$\\
\indent\hspace{3mm} $M=C^d(mod\, n)$&$35^{47} (mod\, 91)=42$
\end{tabular}
\caption{Hvordan brukes RSA?}
\end{table}
\end{frame}

\subsection*{Spørretid}
\begin{frame}{Spørsmål?}
    \begin{figure}
        \centering
        \includegraphics[height = 4.9cm]{images/guillaume8.jpg}
        \caption{Guillaume på Lyderhorn}
        \label{fig:guillaume8}
    \end{figure}
\end{frame}
